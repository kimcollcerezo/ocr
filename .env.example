# =============================================================================
# Agent OCR - Environment Variables Configuration
# =============================================================================
# Copiar aquest fitxer a .env i configurar les teves credencials
# cp .env.example .env
# =============================================================================

# -----------------------------------------------------------------------------
# Google Cloud Vision API (OBLIGATORI per producció)
# -----------------------------------------------------------------------------
# Activar/desactivar Google Cloud Vision
GOOGLE_CLOUD_VISION_ENABLED=true

# Credencials del Service Account (JSON en una sola línia)
# Com obtenir-les: docs/DEPLOYMENT.md#com-obtenir-les-credencials
# IMPORTANT: Ha de ser tot el JSON en una sola línia, entre cometes simples
GOOGLE_CLOUD_CREDENTIALS_JSON='{"type":"service_account","project_id":"your-project-id","private_key_id":"...","private_key":"-----BEGIN PRIVATE KEY-----\n...\n-----END PRIVATE KEY-----\n","client_email":"ocr-service@your-project.iam.gserviceaccount.com","client_id":"...","auth_uri":"https://accounts.google.com/o/oauth2/auth","token_uri":"https://oauth2.googleapis.com/token","auth_provider_x509_cert_url":"https://www.googleapis.com/oauth2/v1/certs","client_x509_cert_url":"...","universe_domain":"googleapis.com"}'

# Project ID de Google Cloud (opcional, s'extreu del JSON)
GOOGLE_CLOUD_PROJECT_ID=your-project-id

# -----------------------------------------------------------------------------
# Tesseract OCR (OPCIONAL - per desenvolupament/testing)
# -----------------------------------------------------------------------------
# Activar/desactivar Tesseract
TESSERACT_ENABLED=true

# Idiomes de Tesseract (separats per +)
# Idiomes disponibles: spa (espanyol), cat (català), eng (anglès)
# Instal·lar idiomes: brew install tesseract-lang (macOS)
TESSERACT_LANG=spa+cat+eng

# -----------------------------------------------------------------------------
# Configuració de l'aplicació
# -----------------------------------------------------------------------------
# Nom de l'aplicació
APP_NAME=OCR Agent

# Versió de l'aplicació
APP_VERSION=1.0.0

# Mode debug (true/false)
# En producció: false
# En desenvolupament: true (més logs detallats)
DEBUG=false

# Port del servidor (per defecte: 8000)
# Railway i altres plataformes poden sobreescriure això amb la variable PORT
# PORT=8000

# -----------------------------------------------------------------------------
# Seguretat (OPCIONAL - no implementat encara)
# -----------------------------------------------------------------------------
# Activar autenticació amb API keys
API_KEY_ENABLED=false

# API keys autoritzades (JSON array)
# Exemple: '["key_abc123xyz", "key_def456uvw"]'
API_KEYS=[]

# Secret per generar tokens JWT (si s'implementa autenticació JWT)
# JWT_SECRET=your-super-secret-key-change-this-in-production

# -----------------------------------------------------------------------------
# Límits i configuració de recursos
# -----------------------------------------------------------------------------
# Mida màxima de fitxer en MB
MAX_FILE_SIZE_MB=10

# Rate limiting: peticions per minut per IP
# Recomanat: 60-100 per desenvolupament, 30-50 per producció
RATE_LIMIT_PER_MINUTE=60

# Timeout per peticions OCR en segons
# Google Vision pot trigar fins a 5-10s per imatges grans
REQUEST_TIMEOUT_SECONDS=30

# -----------------------------------------------------------------------------
# CORS (Cross-Origin Resource Sharing)
# -----------------------------------------------------------------------------
# Orígens permesos (separats per comes)
# En desenvolupament: * (tots els orígens)
# En producció: només dominis específics
# Exemple: https://gogestor.com,https://app.gogestor.com
CORS_ORIGINS=*

# -----------------------------------------------------------------------------
# Logging
# -----------------------------------------------------------------------------
# Nivell de log: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# Guardar logs en fitxer (true/false)
LOG_TO_FILE=false

# Path del fitxer de log
LOG_FILE_PATH=logs/ocr-agent.log

# -----------------------------------------------------------------------------
# Desenvolupament i debugging
# -----------------------------------------------------------------------------
# Guardar imatges preprocessades per debugging (true/false)
# ADVERTÈNCIA: Pot ocupar molt espai en disc
DEBUG_SAVE_IMAGES=false

# Directori per imatges de debug
DEBUG_IMAGES_DIR=debug_images

# -----------------------------------------------------------------------------
# Cache (OPCIONAL - no implementat encara)
# -----------------------------------------------------------------------------
# Activar cache de resultats OCR
CACHE_ENABLED=false

# Tipus de cache: memory, redis
CACHE_TYPE=memory

# TTL (Time To Live) del cache en segons
# 3600 = 1 hora, 86400 = 1 dia
CACHE_TTL_SECONDS=3600

# Redis URL (si CACHE_TYPE=redis)
# REDIS_URL=redis://localhost:6379/0

# -----------------------------------------------------------------------------
# Monitorització i mètriques (OPCIONAL - no implementat encara)
# -----------------------------------------------------------------------------
# Activar Prometheus metrics endpoint
METRICS_ENABLED=false

# Path de l'endpoint de mètriques
# METRICS_PATH=/metrics

# Activar health checks avançats
HEALTH_CHECK_DETAILED=true

# -----------------------------------------------------------------------------
# Notes importants
# -----------------------------------------------------------------------------
# 1. NO commitir el fitxer .env al repositori Git
# 2. Mantenir les credencials de Google Cloud segures
# 3. Rotar les credencials periòdicament (cada 3-6 mesos)
# 4. En Railway: configurar variables d'entorn al dashboard, no com a fitxer
# 5. El JSON de credencials ha d'estar en UNA SOLA LÍNIA
# 6. Per convertir JSON multilínia a una línia: cat credentials.json | jq -c
# =============================================================================
